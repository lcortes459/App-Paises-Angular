import{A as m,B as Q,C as W,D as R,E as T,F,G as X,H as L,I as f,J as w,K as Y,L as Z,P as ee,R as te,S as ie,T as $,X as D,Y as b,_ as ne,a as j,b as U,c as V,d as A,e as v,f as q,g as I,h as z,i as d,j as E,k as J,l as H,m as B,n as a,o as g,p as u,q as l,r as o,s as n,t as s,u as G,v as x,w as C,x as P,y as r,z as K}from"./chunk-L3XL5LTP.js";var h=(()=>{class t{http;apiUrl="https://restcountries.com/v3.1";chachrStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};constructor(e){this.http=e,this.loadFromToLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.chachrStore))}loadFromToLocalStorage(){localStorage.getItem("cacheStore")&&(this.chachrStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountryRequest(e){return this.http.get(e).pipe(V(()=>j([])))}searchCountryByAlphaCode(e){let i=`${this.apiUrl}/alpha/${e}`;return this.http.get(i).pipe(U(c=>c.length>0?c[0]:null),V(()=>j(null)))}searchCapital(e){let i=`${this.apiUrl}/capital/${e}`;return this.getCountryRequest(i).pipe(v(c=>this.chachrStore.byCapital={term:e,countries:c}),v(()=>this.saveToLocalStorage()))}searchCountry(e){let i=`${this.apiUrl}/name/${e}`;return this.getCountryRequest(i).pipe(v(c=>this.chachrStore.byCountries={term:e,countries:c}),v(()=>this.saveToLocalStorage()))}searchRegion(e){let i=`${this.apiUrl}/region/${e}`;return this.getCountryRequest(i).pipe(v(c=>this.chachrStore.byRegion={region:e,countries:c}),v(()=>this.saveToLocalStorage()))}static \u0275fac=function(i){return new(i||t)(z(Z))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pe=t=>["/countries/by",t];function ue(t,p){t&1&&(o(0,"div",2),r(1,"No hay pa\xEDses que mostrar"),n())}function de(t,p){if(t&1&&(o(0,"tr")(1,"td"),r(2),n(),o(3,"td"),r(4),n(),o(5,"td"),s(6,"img",6),n(),o(7,"td"),r(8),n(),o(9,"td"),r(10),n(),o(11,"td"),r(12),R(13,"number"),n(),o(14,"td")(15,"a",7),r(16,"Info"),n()()()),t&2){let e=p.$implicit,i=p.index;a(2),m(" ",i+1," "),a(2),m(" ",e.flag," "),a(2),l("src",e.flags.svg,B)("alt",e.name.common),a(2),m(" ",e.name.common," "),a(2),m(" ",e.capital," "),a(2),m(" ",T(13,8,e.population)," "),a(3),l("routerLink",Q(10,pe,e.cca3))}}function ge(t,p){if(t&1&&(o(0,"div",3)(1,"table",4)(2,"thead")(3,"tr")(4,"th"),r(5,"#"),n(),o(6,"th"),r(7,"Icono"),n(),o(8,"th"),r(9,"Bandera"),n(),o(10,"th"),r(11,"Pa\xEDs"),n(),o(12,"th"),r(13,"Capital"),n(),o(14,"th"),r(15,"Poblaci\xF3n"),n(),s(16,"th"),n()(),o(17,"tbody"),u(18,de,17,12,"tr",5),n()()()),t&2){let e=C();a(18),l("ngForOf",e.countries)}}var _=(()=>{class t{countries=[];prueba_bot=[];static \u0275fac=function(i){return new(i||t)};static \u0275cmp=d({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center","role","alert",4,"ngIf","ngIfElse"],["role","alert",1,"alert","alert-warning","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(i,c){if(i&1&&u(0,ue,2,0,"div",1)(1,ge,19,1,"ng-template",null,0,F),i&2){let y=P(2);l("ngIf",c.countries.length===0)("ngIfElse",y)}},dependencies:[L,f,ie,w],styles:["img[_ngcontent-%COMP%]{width:30px}"]})}return t})();function he(t,p){t&1&&s(0,"shared-loading-spinner")}var re=(()=>{class t{cService;countries=[];initialValue="";isLoading=!1;constructor(e){this.cService=e}ngOnInit(){this.countries=this.cService.chachrStore.byCapital.countries,this.initialValue=this.cService.chachrStore.byCapital.term}searchByCapital(e){this.isLoading=!0,this.cService.searchCapital(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static \u0275fac=function(i){return new(i||t)(g(h))};static \u0275cmp=d({type:t,selectors:[["app-by-capital-page"]],decls:12,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(i,c){i&1&&(o(0,"h3"),r(1,"Por Capital"),n(),s(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),x("onDebounce",function(O){return c.searchByCapital(O)}),n()()(),s(6,"hr"),o(7,"div",0)(8,"div",1),s(9,"hr"),u(10,he,1,0,"shared-loading-spinner",3),s(11,"countries-table",4),n()()),i&2&&(a(5),l("initialValue",c.initialValue),a(5),l("ngIf",c.isLoading),a(),l("countries",c.countries))},dependencies:[f,D,b,_]})}return t})();function ye(t,p){t&1&&s(0,"shared-loading-spinner")}var ae=(()=>{class t{cService;countries=[];isLoading=!1;initialValue="";constructor(e){this.cService=e}ngOnInit(){this.countries=this.cService.chachrStore.byCountries.countries,this.initialValue=this.cService.chachrStore.byCountries.term}searchByCountry(e){this.isLoading=!0,this.cService.searchCountry(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static \u0275fac=function(i){return new(i||t)(g(h))};static \u0275cmp=d({type:t,selectors:[["app-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeholder","Buscar por capital",3,"onDebounce","initialValue"],[4,"ngIf"],[3,"countries"]],template:function(i,c){i&1&&(o(0,"h3"),r(1,"Por Pa\xEDs"),n(),s(2,"hr"),o(3,"div",0)(4,"div",1)(5,"shared-search-box",2),x("onDebounce",function(O){return c.searchByCountry(O)}),n()()(),s(6,"hr"),o(7,"div",0)(8,"div",1),u(9,ye,1,0,"shared-loading-spinner",3),s(10,"countries-table",4),n()()),i&2&&(a(5),l("initialValue",c.initialValue),a(4),l("ngIf",c.isLoading),a(),l("countries",c.countries))},dependencies:[f,D,b,_]})}return t})();var ve=(t,p)=>({"btn-outline-primary":t,"btn-outline-secondary":p});function Ce(t,p){if(t&1){let e=G();o(0,"button",6),x("click",function(){let c=J(e).$implicit,y=C();return H(y.searchByRegion(c))}),r(1),n()}if(t&2){let e=p.$implicit,i=C();l("ngClass",W(2,ve,i.selectedRegion===e,i.selectedRegion!==e)),a(),m(" ",e," ")}}function Se(t,p){t&1&&s(0,"shared-loading-spinner")}var ce=(()=>{class t{cService;countries=[];isLoading=!1;regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;constructor(e){this.cService=e}ngOnInit(){this.countries=this.cService.chachrStore.byRegion.countries,this.selectedRegion=this.cService.chachrStore.byRegion.region}searchByRegion(e){this.selectedRegion=e,this.isLoading=!0,this.cService.searchRegion(e).subscribe(i=>{this.countries=i,this.isLoading=!1})}static \u0275fac=function(i){return new(i||t)(g(h))};static \u0275cmp=d({type:t,selectors:[["app-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(i,c){i&1&&(o(0,"h3"),r(1,"Por Regi\xF3n"),n(),s(2,"hr"),o(3,"div",0)(4,"div",1),u(5,Ce,2,5,"button",2),n()(),s(6,"hr"),o(7,"div",0)(8,"div",3),u(9,Se,1,0,"shared-loading-spinner",4),s(10,"countries-table",5),n()()),i&2&&(a(5),l("ngForOf",c.regions),a(4),l("ngIf",c.isLoading),a(),l("countries",c.countries))},dependencies:[X,L,f,b,_]})}return t})();function xe(t,p){t&1&&(o(0,"div",2)(1,"span"),r(2," Un momento por favor estamos alistando su informaci\xF3n...... "),s(3,"hr")(4,"i",3),n()())}function be(t,p){if(t&1&&(o(0,"div")(1,"div",4)(2,"div",5)(3,"h2"),r(4,"Pa\xEDs: "),o(5,"strong"),r(6),n()()()(),o(7,"div",4)(8,"div",6)(9,"h3"),r(10,"Bandera"),n(),s(11,"img",7),n(),o(12,"div",8)(13,"h3"),r(14,"Informaci\xF3n"),n(),o(15,"ul",9)(16,"li",10)(17,"strong"),r(18,"Poblaci\xF3n:"),n(),r(19),R(20,"number"),n(),o(21,"li",10)(22,"strong"),r(23,"C\xF3digo:"),n(),r(24),n()()()(),o(25,"div",11)(26,"div",8)(27,"h3"),r(28,"Traducciones"),n(),o(29,"div",12)(30,"span",13),r(31),n(),o(32,"span",13),r(33),n(),o(34,"span",13),r(35),n(),o(36,"span",13),r(37),n(),o(38,"span",13),r(39),n(),o(40,"span",13),r(41),n(),o(42,"span",13),r(43),n(),o(44,"span",13),r(45),n(),o(46,"span",13),r(47),n(),o(48,"span",13),r(49),n()()()()()),t&2){let e=C();a(6),K(e.country.name.common),a(5),l("src",e.country.flags.svg,B)("alt",e.country.name.common),a(8),m(" ",T(20,15,e.country.population)," "),a(5),m(" ",e.country.cca3," "),a(7),m(" ",e.country.translations.ara.common," "),a(2),m(" ",e.country.translations.bre.common," "),a(2),m(" ",e.country.translations.ces.common," "),a(2),m(" ",e.country.translations.cym.common," "),a(2),m(" ",e.country.translations.deu.common," "),a(2),m(" ",e.country.translations.est.common," "),a(2),m(" ",e.country.translations.fin.common," "),a(2),m(" ",e.country.translations.ita.common," "),a(2),m(" ",e.country.translations.kor.common," "),a(2),m(" ",e.country.translations.per.common," ")}}var se=(()=>{class t{activateRou;router;countryService;country;constructor(e,i,c){this.activateRou=e,this.router=i,this.countryService=c}ngOnInit(){this.activateRou.params.pipe(A(({id:e})=>this.countryService.searchCountryByAlphaCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static \u0275fac=function(i){return new(i||t)(g(ee),g(te),g(h))};static \u0275cmp=d({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loanding",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"bi","bi-arrow-repeat","text-succes"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(i,c){if(i&1&&u(0,xe,5,0,"ng-template",null,0,F)(2,be,50,17,"div",1),i&2){let y=P(1);a(2),l("ngIf",c.country)("ngIfElse",y)}},dependencies:[f,w]})}return t})();var _e=[{path:"by-capital",component:re},{path:"by-country",component:ae},{path:"by-region",component:ce},{path:"by/:id",component:se},{path:"**",redirectTo:"by-capital   "}],le=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=I({imports:[$.forChild(_e),$]})}return t})();var We=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=E({type:t});static \u0275inj=I({imports:[Y,le,ne]})}return t})();export{We as CountriesModule};
